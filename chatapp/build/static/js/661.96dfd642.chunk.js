"use strict";(self.webpackChunkchatapp=self.webpackChunkchatapp||[]).push([[661],{4661:function(n,e,t){t.r(e);var a,r=t(168),i=t(4165),s=t(5861),o=t(9439),c=t(2791),l=t(7689),d=t(6444),u=t(8174),p=(t(5462),t(2388)),m=t(1276),h=t(9778),f=t(184),g=d.ZP.div(a||(a=(0,r.Z)(['\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 3rem;\n    background-color: #131324;\n    height: 100vh;\n    width: 100vw;\n\n    .loader{\n        background: #012;\n        height: 100vh;\n        width: 100vw;\n        display: grid;\n        place-items: center;\n\n        .container {\n            position: relative;\n            width: 200px;\n            height: 200px;\n          }\n          span {\n            position: absolute;\n            display: block;\n            width: 40%;\n            height: 40%;\n            border-radius: 50%;\n            animation: speed 2s infinite ease-in-out;\n          }\n          .one {\n            background: #4285f4;\n            animation-delay: 1.5s;\n          }\n          .two {\n            background: #ea4335;\n            animation-delay: 1s;\n          }\n          .three {\n            background: #fbbc05;\n            animation-delay: 0.5s;\n          }\n          .four {\n            background: #34a853;\n          }\n          @keyframes speed {\n            0% {\n              transform: translate(0%);\n              border-radius: 50%;\n            }\n            25% {\n              transform: translate(150%) scale(0.5);\n              border-radius: 0%;\n            }\n            50% {\n              transform: translate(150%, 150%);\n              border-radius: 50%;\n            }\n            75% {\n              transform: translate(0, 150%) scale(0.5);\n              border-radius: 0%;\n            }\n          }\n          \n    }\n\n\n    .title_container{\n      text-align: center;  \n      h1{\n            color: white;\n            \n        }\n    }\n\n    .avatars{\n        display: flex;\n        gap: 2rem;\n\n        .avatar{\n            border: 0.5rem solid transparent;\n            padding: 0.5rem;\n            border-radius: 5rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            transition: 0.3s ease-in-out;\n            img{\n                height: 6rem;\n            }\n        }\n        .avatar:hover{\n            transform scale(1.2);\n        }\n\n        .selected{\n            border: 0.5rem solid #4e0eff;\n        }\n    }\n\n    .submitbtn{\n        background-color: #997af0;\n        color: white;\n        padding: 1rem 2rem;\n        border: none;\n        font-weight: bold;\n        cursor: pointer;\n        border-radius: 0.4rem;\n        font-size: 1rem;\n        text-transform: uppercase;\n        transition: 0.5s ease-in-out;\n        &:hover{\n          background-color: #4e3eff;\n        }\n      }\n\n      .activebtn{\n        background: blue;\n      }\n\n      input[type="file"] {\n        display: none;\n      }\n\n      .button-55{\n        padding: 1rem;\n        border: none;\n        width: 35vw;\n        // color: red;\n        font-size: 1rem;\n        font-weight: bold;\n      }\n\n      .leftbtn{\n        \n        border-bottom-left-radius: 1rem;\n        border-top-left-radius: 1rem;\n      }\n\n      .rightbtn{\n        \n        border-bottom-right-radius: 1rem;\n        border-top-right-radius: 1rem;\n      }\n\n\n      .button-54{\n        background: aliceblue;\n    padding: 0.7rem 1rem;\n    border-radius: 0.5rem;\n    border: 2px solid blue;\n    box-shadow: 1px 0px 14px white;\n      }\n\n      .preview{\n        height: 150px;\n    border: 2px solid white;\n    width: 150px;\n    border-radius: 100%;\n    box-shadow: -1px 0px 16px white;\n      }\n\n      \n\n      .header{\n        // height: 100%;\n        display: flex;\n        gap: 1rem;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        \n      }\n\n\n\n      .avatar_cont{\n        height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n      }\n\n      .container{\n        height: 50%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n      }\n\n    @media screen and (max-width: 720px){\n      .preview{\n        height: 150px;\n        width: 150px;\n      }\n    }\n    @media screen and (max-width: 500px){\n      .title_container{\n        h1{\n          font-size: 1.5rem;\n        }\n      }\n    }\n\n\n'])));e.default=function(){var n=(0,l.s0)(),e=(0,c.useState)([]),t=(0,o.Z)(e,2),a=t[0],r=t[1],d=(0,c.useState)(!0),b=(0,o.Z)(d,2),x=b[0],v=b[1],w=(0,c.useState)(void 0),j=(0,o.Z)(w,2),k=j[0],y=j[1],N=(0,c.useState)(!1),S=(0,o.Z)(N,2),Z=S[0],P=S[1],C=(0,c.useState)(null),I=(0,o.Z)(C,2),A=I[0],_=I[1],O=(0,c.useState)(null),J=(0,o.Z)(O,2),E=J[0],R=J[1],U={position:"bottom-right",autoClose:5e3,pauseOnHover:!0,draggable:!0,theme:"dark"};(0,c.useEffect)((function(){localStorage.getItem("chat-app-user")||n("/login")}),[]);var z=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==k){e.next=4;break}u.Am.error("Please select an avatar",U),e.next=12;break;case 4:return e.next=6,JSON.parse(localStorage.getItem("chat-app-user"));case 6:return t=e.sent,e.next=9,p.Z.post("".concat(m.TC,"/").concat(t._id),{image:a[k]});case 9:r=e.sent,(s=r.data).isSet?(t.isAvatarImageSet=!0,t.avatarImage=s.image,localStorage.setItem("chat-app-user",JSON.stringify(t)),n("/")):(0,u.Am)("Error setting avatar, Please try again",U);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){var n=function(){var n=(0,s.Z)((0,i.Z)().mark((function n(){var e,t,a,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=[],t=0;case 2:if(!(t<4)){n.next=18;break}return n.prev=3,a=void 0,n.next=7,p.Z.get("".concat("https://api.multiavatar.com","/").concat(Math.round(1e8*Math.random())));case 7:a=n.sent,s=new h.lW(a.data),e.push("data:image/svg+xml;base64,".concat(s.toString("base64"))),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),console.log(n.t0);case 15:t++,n.next=2;break;case 18:r(e),v(!1);case 20:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(){return n.apply(this,arguments)}}();n()}),[]);var L=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==E){e.next=4;break}u.Am.error("Please select an avatar",U),e.next=12;break;case 4:return e.next=6,JSON.parse(localStorage.getItem("chat-app-user"));case 6:return t=e.sent,e.next=9,p.Z.post("".concat(m.TC,"/").concat(t._id),{image:E});case 9:a=e.sent,(r=a.data).isSet?(t.isAvatarImageSet=!0,t.avatarImage=r.image,localStorage.setItem("chat-app-user",JSON.stringify(t)),n("/")):(0,u.Am)("Error setting avatar, Please try again",U);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)(g,{children:[(0,f.jsxs)("div",{className:"top-bar",children:[(0,f.jsx)("button",{className:"button-55 leftbtn ".concat(Z?"activebtn":""),onClick:function(){P(!0)},children:"Avatar Profile Photo"}),(0,f.jsx)("button",{className:"button-55 rightbtn ".concat(Z?"":"activebtn"),onClick:function(){P(!1)},children:"Custom Profile Photo"})]}),(0,f.jsx)("div",{className:"container",children:Z?x?(0,f.jsx)("div",{className:"loader",children:(0,f.jsxs)("div",{className:"container",children:[(0,f.jsx)("span",{className:"one"}),(0,f.jsx)("span",{className:"two"}),(0,f.jsx)("span",{className:"three"}),(0,f.jsx)("span",{className:"four"})]})}):(0,f.jsxs)("div",{className:"avatar_cont",children:[(0,f.jsx)("div",{className:"title_container",children:(0,f.jsx)("h1",{children:"Pick an avatar as your Profile picture"})}),(0,f.jsx)("div",{className:"avatars",children:a.map((function(n,e){return(0,f.jsx)("div",{className:"avatar ".concat(k===e?"selected":""),children:(0,f.jsx)("img",{src:n,alt:"avatar",onClick:function(){y(e)}})},e)}))}),(0,f.jsxs)("button",{className:"submitbtn",onClick:z,children:[" ","Set as Profile Picture"]})]}):(0,f.jsxs)("div",{className:"header",children:[(0,f.jsx)("div",{className:"preview",children:A?(0,f.jsx)("img",{className:"preview",src:URL.createObjectURL(A),alt:""}):(0,f.jsx)("div",{})}),(0,f.jsx)("label",{htmlFor:"upload",className:"button-54",children:"upload \ud83c\udfa9"}),(0,f.jsx)("input",{type:"file",accept:"image/jpg,image/jpeg,image/png",onChange:function(n){_(n.target.files[0]);var e=n.target.files;if(e.length>0){var t=(0,o.Z)(e,1)[0],a=new FileReader;a.readAsDataURL(t),a.onload=function(){var n=a.result;R(n)}}},id:"upload"}),(0,f.jsxs)("button",{className:"submitbtn",onClick:L,children:[" ","Set as Profile Picture"]})]})}),(0,f.jsx)(u.Ix,{})]})}},1276:function(n,e,t){t.d(e,{JC:function(){return c},TC:function(){return s},VU:function(){return i},X0:function(){return r},ho:function(){return a},pK:function(){return o},qr:function(){return l}});var a="https://chatapi-production-4047.up.railway.app",r="".concat(a,"/api/register"),i="".concat(a,"/api/login"),s="".concat(a,"/api/setavatar"),o="".concat(a,"/api/allusers"),c="".concat(a,"/message/addmsg"),l="".concat(a,"/message/getallmsg")}}]);
//# sourceMappingURL=661.96dfd642.chunk.js.map